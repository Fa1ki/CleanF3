plugins {
	id "fabric-loom" version "$loom_version"
}

version = project.mod_version
group = project.maven_group

sourceCompatibility = targetCompatibility = JavaVersion.VERSION_17

repositories {
	maven {
		name = 'modrinth'
		url = 'https://api.modrinth.com/maven'
	}
}

dependencies {
	minecraft "com.mojang:minecraft:$minecraft_version"
	mappings "net.fabricmc:yarn:$yarn_mappings:v2"
	modImplementation "net.fabricmc:fabric-loader:$loader_version"

	modImplementation "net.fabricmc.fabric-api:fabric-api:$fabric_api_version"
	modImplementation "maven.modrinth:midnightlib:$midnightlib_version"

	modCompileOnly "maven.modrinth:presence-footsteps:$presence_footsteps_version"
}

processResources {
	inputs.property "version", version

	filesMatching("fabric.mod.json") {
		expand "version": version
	}
}

jar {
	from("LICENSE") {
		rename { "${it}_${archives_base_name}"}
	}
}